


<div class="page">
    <%#-------------------------------------------- Header section --------------------------------------------%>
    <header style="background-image: url('<%= Image.find(1).url %>');">
        <div class="top"> </div>
        <div class="bottom">
            <h1 class="site-title">
                <span class="mask"><span class="reveal reveal--first">Exotic</span></span><span class="mask"><span class="reveal reveal--second">Euro</span></span>
            </h1>

            <p class="site-subtitle">
                <span class="mask"><span class="reveal reveal--first">Luxury Made Affordable.</span></span>
                <span class="mask"><span class="reveal reveal--second">Just for You.</span></span>
            </p>
        </div>

    </header>

    <%#--------------------------------------------------------------------------------------------------------%>


    <%#-------------------------------------------- Steps section ---------------------------------------------%>

    <section class = "step-by-step">
        <div class = "section-header">
            <h1>Step by Step Process</h1>
            <a>We make luxury affordable: from search to repair, we handle everything for you.</a>
        </div>
        
        
    <div class="step">
      <div class = "step-icon-mobile">
        <%= image_tag("consultation-icon.svg", alt: "Step 1 Icon") %>
        <h2 class="step-title-mobile">Consultation & Sourcing</h2>
      </div>
      <div class = "content">
        <h2 class="step-title">Consultation & Sourcing</h2>
        <p class="step-text">We discuss your desired car model and budget, then locate the perfect vehicle to match your needs.</p>
      </div>
    </div>



    
    <div class = "step">
    
      <div class = "step-icon-mobile">
        <div class = "step-icon">
            <%= image_tag("repair-icon.svg", alt: "Step 1 Icon", class: "responsive-icon") %>
        </div>
        <h2 class="step-title-mobile">Inspection & Repair</h2>
      </div>

      <div class = "content">
        <h2 class = "step-title">Inspection & Repair </h2>
        <p class = "step-text"> Our Specialists would find and inspect the requested car to determine the cost of repairs, and our Mechanics restore it to factory specs. </p>
      </div>
    </div>

    
    <div class = "step">
      <div class = "step-icon-mobile">
        <%= image_tag("deliver-icon.svg", alt: "Step 1 Icon" ) %>
        
        <h2 class="step-title-mobile">Delivery</h2>
      </div>
      <div class = "content">
        <h2 class = "step-title">Delivery </h2>
        <p class = "step-text">We Deliver your dream car - fully repaired and within the agreed budget. </p>
      </div>  
    </div>
        <%= link_to "Book Consoltation",contact_path, class: "book-btn"  %>
            
      
    </section>

    <%#--------------------------------------------------------------------------------------------------------%>
    
    <section class = "about">  
        <div class = "about-gradient" style =  "background: linear-gradient(180deg, #0166B1 0%, #2756A2 28.37%, #214989 51.92%, #1E427C 68.27%, #1B3B6F 86.06%);"></div>
        <div class = "our-story">
            <div class = "story-content">
                <h1>Our Story</h1>
                <%= sanitize @user.about, tags: %w(p br strong em ul ol li) %>  
            </div>    
        </div>        
        <div class = "about-gradient"></div>
    </section>



    <%#--------------------------------------------------------------------------------------------------------%>



    <%#--------------------------------------------- Credibility Section -------------------------------------%>
        <section class = "credibility-section">
            <div class = "section-header">
                <h1> What our clients say</h1>
                <a> We are proud of our work and our clients.</a>
            </div>
           
            
            <div class="before-carousel">
                <div class="before-car-slide" >
                    <div class="car-dmg car1" style = "background-image: url('<%= Image.find_by(name: "before_car_one").url %>'); "></div>
                    <div class="car-dmg car2" style = "background-image: url('<%= Image.find_by(name: "before_car_two").url %>'); "></div>
                    <div class="car-dmg car3" style = "background-image: url('<%= Image.find_by(name: "before_car_three").url %>'); "></div>
                    <div class="car-dmg car4" style = "background-image: url('<%= Image.find_by(name: "before_car_four").url %>'); "></div>
                    <div class="car-dmg car5" style = "background-image: url('<%= Image.find_by(name: "before_car_five").url %>'); "></div>
                </div>
            </div>
            
            <div class="testimony-section">
                <div class="testimony-outer active">
                    <%= render partial: 'index/testimonies/testimony_1' %>
                </div>
                <div class="testimony-outer">
                    <%= render partial: 'index/testimonies/testimony_2' %>
                </div>
                <div class="testimony-outer">
                    <%= render partial: 'index/testimonies/testimony_3' %>
                </div>
                <div class="testimony-outer">
                    <%= render partial: 'index/testimonies/testimony_4' %>
                </div>
            </div>

          
            
            <div class="after-carousel">
                <div class="after-car-slide">
                    <div class="car-fix car1-mirror" style = "background-image: url('<%= Image.find_by(name: "after_car_one").url %>'); "></div>
                    <div class="car-fix car2-mirror" style = "background-image: url('<%= Image.find_by(name: "after_car_two").url %>'); "></div>
                    <div class="car-fix car3-mirror" style = "background-image: url('<%= Image.find_by(name: "after_car_three").url %>'); "></div>
                    <div class="car-fix car4-mirror" style = "background-image: url('<%= Image.find_by(name: "after_car_four").url %>'); "></div>
                    <div class="car-fix car5-mirror" style = "background-image: url('<%= Image.find_by(name: "after_car_five").url %>'); "></div>
                </div>
            </div>
        </section>

    <%#--------------------------------------------------------------------------------------------------------%>

    <%#-------------------------------------------- Featured section ---------------------------------------------%>
    <section class = "car-section">
            <div class = "section-header" > 
                <h1> Ready-to-Go Deals </h1>
                <a> Check out our collection of existing vehicles.</a>
            </div>

            <% if @cars.present?%>
                <div class = "car-grid">
                    <% @cars.each do |car| %>
                        <div class="card">
                            <div class="card_image"><%= image_tag(car.images.find_by(id: car.display_image)&.url,alt: 'Car Image') %>
                                <div class = "shadow"></div>
                            </div>

                            <div class="card_content">
                                <h2 class = "card_title" > <%= car.car_make %> <%= car.car_model %> </h2>
                                <div class = "car_info">
                                    <h3 class = "price" > <%=number_to_currency(car.price)%> </h3> 
                                    <div class = "info-box">
                                        <% if car.compared_price.present? %>
                                            <% different = car.compared_price - car.price %>
                                            <p> <%= number_to_currency(different) %> Below Market Value </p>
                                        <% end %>
                                        <p>  <%=number_with_delimiter(car.miles, delimiter: ',')  %> mi </p>
                                    </div>
                                </div>
                                <%= button_to "More", car_path(car_id: car.id), method: :get, class: "show-btn"%>
                                
                            </div>
                        </div>
                    <% end %>
                </div>
            <% else %>
                <div class = "no-cars">
                
                    <p> We're fresh out of vehicles right now! </p>

                    <p class = "notify-form-label" > Check on us later when New Cars Arrive. </p>
                  
                </div>
            <% end %>

    </section>

        <%#--------------------------------------------------------------------------------------------------------%>
     <%#-------------------------------------------- Contact section ---------------------------------------------%>
    <section class = "contact-section">
        <div class = "section-header">
            <h1> Upgrade Your Ride Today</h1>
            <a>Simply fill out our quick online booking form below and we’ll take care of the rest. </a>
        </div>

        <% if @user.location.present? %>
            <%= render partial: 'index/contact/contact_card_with_location', locals: { location: @user.location } %>
        <% else %>
           <%=  render partial: 'index/contact/contact_card', locals: { location: @user.location }%>
        <% end %>
        <%= link_to "Book Consultation", contact_path, class: "book-btn", style: "margin-top: 3rem;"%>

    </section>

    <%#--------------------------------------------------------------------------------------------------------%>


</div>




<style>
.testimony-outer {
  position: absolute;
  width: 100%; height: 100%;
  opacity: 0;
  
  /* 1) Make the whole cycle 20s (4 × 5s), repeat forever */
  /* 2) Apply ease-in-out to the animation */
  animation: fade 20s infinite ease-in-out;
}

/* stagger each testimonial by 5s */
.testimony-outer:nth-child(1) { animation-delay: 0s;  }
.testimony-outer:nth-child(2) { animation-delay: 5s;  }
.testimony-outer:nth-child(3) { animation-delay: 10s; }
.testimony-outer:nth-child(4) { animation-delay: 15s; }

/* Keyframes: 
   – 0%→20% = showing (with fade-in at 0→4%, hold until 20%)  
   – 20%→25% = fade-out  
   – 25%→100% = hidden until next cycle
*/
@keyframes fade {
  /* start fully transparent */
  0%   { opacity: 0; }
  /* fade in to full opacity over 4% of the cycle (0.8s) */
  4%   { opacity: 1; }
  /* stay fully visible until 20% of the cycle (4s) */
  20%  { opacity: 1; }
  /* fade out over the next 5% (1s) */
  25%  { opacity: 0; }
  /* remain hidden until the very end of the cycle */
  100% { opacity: 0; }
}

</style>


